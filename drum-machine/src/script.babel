class DrumMachine extends React.Component {
  render() {
    return(
      <div>
        <DrumPad />
      </div>
    )
  }
}
class DrumPad extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      clipname: ''
    }
    this.playSound = this.playSound.bind(this);
    this.handleClick = this.handleClick.bind(this);
  }
  componentDidMount() {
    document.addEventListener('keydown', this.handleClick);
  }
  componentWillUnmount() {
    document.removeEventListener('keydown', this.handleClick);
  }
  playSound(event) {
    document.getElementById(event.target.textContent).play();
    this.setState({clipname: event.target.id});
  }
  handleClick(e) {
    var audioId = '';
      var clip = '';
      switch (e.keyCode) {
        case 81:
          audioId = 'Q';
          clip = 'Heater-1';
          break;
        case 87:
          audioId = "W";
          clip = 'Heater-2';
          break;
        case 69:
          audioId = "E";
          clip = 'Heater-3';
          break;
        case 65:
          audioId = "A";
          clip = 'Heater-4';
          break;
        case 83:
          audioId = "S";
          clip = 'Kick-n-Hat';
          break;
        case 68:
          audioId = "D";
          clip = 'Kick-1';
          break;
        case 90:
          audioId = "Z";
          clip = 'Chord-1';
          break;
        case 88:
          audioId = "X";
          clip = 'Chord-2';
          break;
        case 67:
          audioId = "C";
          clip = 'Chord-3';
      }
      document.getElementById(audioId).play();
      this.setState({
        clipname: clip
      })
  }
  render() {
    return(
     <div id="drum-machine">
      <div className="drum-place">
        <div className="drum-pad" id="Heater-1" onClick={this.playSound}>Q<audio className="clip" id="Q" src="https://s3.amazonaws.com/freecodecamp/drums/Heater-1.mp3"></audio></div>
        <div className="drum-pad" id="Heater-2" onClick={this.playSound}>W<audio className="clip" id="W" src="https://s3.amazonaws.com/freecodecamp/drums/Heater-2.mp3"></audio></div>
        <div className="drum-pad" id="Heater-3" onClick={this.playSound}>E<audio className="clip" id="E" src="https://s3.amazonaws.com/freecodecamp/drums/Heater-3.mp3"></audio></div>
        <div className="drum-pad" id="Heter-4" onClick={this.playSound}>A<audio className="clip" id="A" src="https://s3.amazonaws.com/freecodecamp/drums/Heater-4_1.mp3"></audio></div>
        <div className="drum-pad" id="Kick-n-Hat" onClick={this.playSound}>S<audio className="clip" id="S" src="https://s3.amazonaws.com/freecodecamp/drums/Kick_n_Hat.mp3"></audio></div>
        <div className="drum-pad" id="Kick-1" onClick={this.playSound}>D<audio className="clip" id="D" src="https://s3.amazonaws.com/freecodecamp/drums/RP4_KICK_1.mp3"></audio></div>
        <div className="drum-pad" id="Chord-1" onClick={this.playSound}>Z<audio className="clip" id="Z" src="https://s3.amazonaws.com/freecodecamp/drums/Chord_1.mp3"></audio></div>
        <div className="drum-pad" id="Chord-2" onClick={this.playSound}>X<audio className="clip" id="X" src="https://s3.amazonaws.com/freecodecamp/drums/Chord_2.mp3"></audio></div>
        <div className="drum-pad" id="Chord-3" onClick={this.playSound}>C<audio className="clip" id="C" src="https://s3.amazonaws.com/freecodecamp/drums/Chord_3.mp3"></audio></div>
      </div>
        <Display name={this.state.clipname} />
     </div>
    )
  }
}
class Display extends React.Component {
  render() {
    return(
      <div id="display">
         {this.props.name}
      </div>
    )
  }
}
ReactDOM.render(<DrumMachine />,document.getElementById('app'));